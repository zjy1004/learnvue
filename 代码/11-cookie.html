<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    // let date = new Date();
    // date.setMinutes(50);
    // let dateStr = date.toUTCString();
    // console.log(dateStr);
    // let cookie = document.cookie;
    // document.cookie = "name=yaoming";
    // document.cookie = "sex=man; expires=" + dateStr;
    // console.log(document.cookie)

    // let obj = {
    //     name: 'yaoming',
    //     sex: 'man'
    // };
    // console.log(obj.name);

    function getCookie() {
        let obj = {};
        let cookieString = document.cookie;
        let cookieArr = cookieString.split(';');
        console.log(cookieArr);
        cookieArr.forEach(item => {
            let tempArr = item.split('=');
            console.log(tempArr);
            let key = tempArr[0].trim();
            let value = tempArr[1];
            obj[key] = value
        })
        return obj
    }
    //  let cookieObj = getCookie();
    // console.log(cookieObj)

    function setCookie(key, value, expires) {
        if(!expires){
            document.cookie = `${key}=${value}`
        }else{
            let date = new Date()
            let unix = date.getTime()
            unix = expires * 1000 + unix
            let newDateStr = new Date(unix).toUTCString()
            document.cookie = `${key}=${value}; expires=${newDateStr}`
        }
    }

    // setCookie('food', 'suan')
    // setCookie('start', 'nini', '60')
    setCookie('start', 'liuex', '120')

    function removeCookie(key) {
        let value = ''
        let date = new Date().getTime()
        date = date - 1000
        let dateStr = new Date(date).toUTCString()
        document.cookie = `${key}=${value}; expires=${dateStr}`
    }
    setTimeout(() => {
        removeCookie('start')
    }, 10000)
</script>
</html>